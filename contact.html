<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Express Goal â€” Premium Cleaning & Booking</title>
  <link rel="icon" type="image/x-icon" href="./src/favicon.ico" />
  <!-- AOS CSS -->
  <!-- <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet"> -->
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <!-- Tailwind CSS CDN (for demo, use PostCSS in production) -->
  <link rel="stylesheet" href="./src/output.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
    }
    html, body {
      max-width: 100vw !important;
      overflow-x: hidden !important;
    }
  </style>
</head>

<body class="bg-[#f8fbff] text-[#2D3748] leading-relaxed">

  <!-- Header -->
  <!-- Top Bar -->
  <header class="bg-gradient-to-r from-[#5409DA] to-[#0000ef] text-white" data-aos="fade-down" data-aos-duration="800">
    <div class="container px-4 mx-auto">
      <div class="flex flex-col items-center justify-between py-3 text-sm sm:flex-row">
        <div class="flex items-center mb-2 space-x-4 sm:mb-0" data-aos="fade-right" data-aos-duration="700"
          data-aos-delay="80">
          <a href="tel:+447377664964" class="flex items-center transition hover:text-CustomPurple-200">
            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
              <path
                d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
            </svg>
            +44 7377 664964
          </a>
          <a href="mailto:info@expressgoal.co.uk" class="flex items-center transition hover:text-customPurple-200">
            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
              <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" />
              <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
            </svg>
            info@expressgoal.co.uk
          </a>
        </div>
        <div class="flex items-center space-x-4" data-aos="fade-left" data-aos-duration="700" data-aos-delay="120">
          <a href="#" class="transition hover:text-customPurple-200">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
            </svg>
          </a>
          <a href="#" class="transition hover:text-customPurple-200">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z" />
            </svg>
          </a>
          <a href="#" class="transition hover:text-customPurple-200">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zM5.838 12a6.162 6.162 0 1112.324 0 6.162 6.162 0 01-12.324 0zM12 16a4 4 0 110-8 4 4 0 010 8zm4.965-10.405a1.44 1.44 0 112.881.001 1.44 1.44 0 01-2.881-.001z" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </header>

  <!-- Navigation -->
  <nav id="navbar" class="sticky top-0 z-50 bg-white shadow-lg" data-aos="fade-down" data-aos-duration="700"
    data-aos-delay="140">
    <div class="container px-4 mx-auto">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center" data-aos="zoom-in" data-aos-duration="700" data-aos-delay="160">
          <h1 class="text-2xl font-bold text-gradient">
            EXPRESS GOAL
            <span class="ml-1 text-xs italic text-gray-500">premium</span>
          </h1>
        </div>

        <!-- Desktop Navigation -->
        <div class="items-center md:flex-1 hidden space-x-8 md:justify-between md:max-w-[600px] md:flex">
          <a href="./index.html" class="font-medium text-gray-700 nav-link hover:text-customPurple-500">Home</a>
          <a href="./about.html" class="font-medium text-gray-700 nav-link hover:text--500">About</a>
          <a href="./tailwind.html" class="font-medium text-gray-700 nav-link hover:text-customPurple-500">Services</a>
          <a href="./contact.html"
            class="font-medium text-gray-700 active nav-link hover:text-customPurple-500">Contact</a>
        </div>

        <!-- Mobile Menu Button -->
        <button id="mobile-menu-btn" class="md:hidden focus:outline-none">
          <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>

      <!-- Mobile Navigation -->
      <div id="mobile-menu" class="hidden pb-4 md:hidden">
        <a href="./index.html" class="block py-2 font-medium text-gray-700 hover:text-customPurple-500">Home</a>
        <a href="./about.html" class="block py-2 font-medium text-gray-700 hover:text-customPurple-500">About</a>
        <a href="./tailwind.html" class="block py-2 font-medium text-gray-700 hover:text-customPurple-500">Services</a>
        <a href="./contact.html" class="block py-2 font-medium text-gray-700 hover:text-customPurple-500">Contact</a>
      </div>
    </div>
  </nav>

  <div class="max-w-[1200px] mx-auto p-5">
    <!-- Hero Section -->
    <section class="py-10 mb-10 text-center">
      <h1 class="text-[1.8rem] md:text-[2.2rem] lg:text-[2.8rem] font-bold text-[#1E6FBA] leading-tight mb-4"
        data-aos="fade-up" data-aos-duration="900" data-aos-delay="120">
        Premium Cleaning & Home Care Services
      </h1>
      <p class="text-base md:text-lg text-[#718096] max-w-[700px] mx-auto" data-aos="fade-up" data-aos-duration="800"
        data-aos-delay="200">
        Experience the luxury of a spotless home with our professional and personalized cleaning, scheduling, and
        Express Goal VIP attention.
      </p>
    </section>

    <!-- Main Content Grid -->
    <div class="grid grid-cols-1 gap-8 mb-10 md:grid-cols-2">
      <!-- Contact Info Card -->
      <div class="transition-transform bg-white shadow-lg rounded-xl p-7 hover:-translate-y-1 hover:shadow-2xl"
        data-aos="fade-right" data-aos-duration="800" data-aos-delay="140">
        <h3 class="text-xl font-semibold text-[#1E6FBA] mb-6 pb-3 border-b border-[#E2E8F0] relative">
          Contact Details
        </h3>
        <div class="flex items-center gap-3 mb-4">
          <i class="fas fa-map-marker-alt text-[#1E6FBA] text-lg w-6 text-center"></i>
          <div>Bournemouth, United Kingdom</div>
        </div>
        <div class="flex items-center gap-3 mb-4">
          <i class="fas fa-phone-alt text-[#1E6FBA] text-lg w-6 text-center"></i>
          <div>+44 7377 664964</div>
        </div>
        <div class="flex items-center gap-3 mb-4">
          <i class="fas fa-envelope text-[#1E6FBA] text-lg w-6 text-center"></i>
          <div>expressgoal@luxecleaning.co.uk</div>
        </div>
        <div class="flex items-center gap-3 mb-4">
          <i class="fab fa-instagram text-[#1E6FBA] text-lg w-6 text-center"></i>
          <div>@luxecleaning_uk</div>
        </div>
        <div class="flex flex-col gap-3 mt-6 sm:flex-row">
          <button
            class="inline-flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-base bg-[#1E6FBA] text-white hover:bg-[#165992] transition"
            onclick="openModal()">
            <i class="fas fa-calendar-check"></i>Book Appointment
          </button>
          <a class="inline-flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-base bg-white text-[#1E6FBA] border border-[#1E6FBA] hover:bg-[#E8F2FC] transition"
            href="mailto:expressgoal@luxeccleaning.co.uk">
            <i class="fas fa-envelope"></i>Email Us
          </a>
        </div>
      </div>

      <!-- Contact Form Card -->
      <div class="bg-white shadow-lg rounded-xl p-7" data-aos="fade-left" data-aos-duration="800" data-aos-delay="220">
        <h3 class="text-xl font-semibold text-[#1E6FBA] mb-6 pb-3 border-b border-[#E2E8F0] relative">
          Send Us a Message
        </h3>
        <form id="contactForm">
          <input id="cf-name" type="text" placeholder="Full Name" required
            class="w-full px-4 py-3 rounded-lg border border-[#E2E8F0] mb-4 text-base focus:outline-none focus:border-[#1E6FBA] focus:ring-2 focus:ring-[#1E6FBA]/20 transition" />
          <input id="cf-email" type="email" placeholder="Email Address" required
            class="w-full px-4 py-3 rounded-lg border border-[#E2E8F0] mb-4 text-base focus:outline-none focus:border-[#1E6FBA] focus:ring-2 focus:ring-[#1E6FBA]/20 transition" />
          <textarea id="cf-message" placeholder="Your message..." required
            class="w-full px-4 py-3 rounded-lg border border-[#E2E8F0] mb-4 text-base min-h-[140px] resize-y focus:outline-none focus:border-[#1E6FBA] focus:ring-2 focus:ring-[#1E6FBA]/20 transition"></textarea>
          <button type="submit"
            class="inline-flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-base bg-[#1E6FBA] text-white hover:bg-[#165992] transition">
            <i class="fas fa-paper-plane"></i>Send Message
          </button>
        </form>
      </div>
    </div>

    <!-- Map Section -->
    <div class="my-10" data-aos="zoom-in" data-aos-duration="900" data-aos-delay="260">
      <div class="rounded-xl overflow-hidden shadow-lg h-[400px]">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d40491.800336422594!2d-1.880769397403007!3d50.72146942217212!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4873a1b54df7b2bd%3A0xabb6f2b83d4b2b05!2sBournemouth!5e0!3m2!1sen!2suk!4v1720228436015!5m2!1sen!2suk"
          width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
    </div>

  </div>

  <!-- Appointment Modal -->
  <div class="fixed inset-0 z-50 items-center justify-center hidden bg-black/60 backdrop-blur-sm" id="modal"
    data-aos="zoom-in" data-aos-duration="700" data-aos-delay="120">
    <div class="w-full max-w-lg bg-white rounded-xl shadow-2xl p-8 relative max-h-[90vh] overflow-y-auto">
      <button
        class="absolute top-4 right-4 text-2xl text-[#718096] hover:text-[#1E6FBA] bg-transparent rounded-full w-8 h-8 flex items-center justify-center transition"
        onclick="closeModal()">&times;</button>
      <h3 class="text-xl font-semibold text-[#1E6FBA] mb-6">Get a Quote & Book Your Premium Clean</h3>
      <input type="text" id="book-name" placeholder="Full Name" required
        class="w-full px-4 py-3 rounded-lg border border-[#E2E8F0] mb-4 text-base focus:outline-none focus:border-[#1E6FBA] focus:ring-2 focus:ring-[#1E6FBA]/20 transition" />
      <input type="tel" id="book-phone" placeholder="Phone Number" required
        class="w-full px-4 py-3 rounded-lg border border-[#E2E8F0] mb-4 text-base focus:outline-none focus:border-[#1E6FBA] focus:ring-2 focus:ring-[#1E6FBA]/20 transition" />
      <input type="email" id="book-email" placeholder="Email Address" required
        class="w-full px-4 py-3 rounded-lg border border-[#E2E8F0] mb-4 text-base focus:outline-none focus:border-[#1E6FBA] focus:ring-2 focus:ring-[#1E6FBA]/20 transition" />
      <input type="date" id="book-date" required
        class="w-full px-4 py-3 rounded-lg border border-[#E2E8F0] mb-4 text-base focus:outline-none focus:border-[#1E6FBA] focus:ring-2 focus:ring-[#1E6FBA]/20 transition" />
      <select id="book-service" required
        class="w-full px-4 py-3 rounded-lg border border-[#E2E8F0] mb-4 text-base focus:outline-none focus:border-[#1E6FBA] focus:ring-2 focus:ring-[#1E6FBA]/20 transition">
        <option value="">Select Service</option>
        <option value="Office Cleaning">Office Cleaning</option>
        <option value="Home Cleaning">Home Cleaning</option>
        <option value="Glass Cleaning">Glass Cleaning</option>
        <option value="Airbnb Cleaning">Airbnb Cleaning</option>
        <option value="Mould Removal">Mould Removal</option>
        <option value="Deep End-of-Tenancy Clean">Deep End-of-Tenancy Clean</option>
      </select>
      <input type="text" id="book-location" placeholder="Your Address" required
        class="w-full px-4 py-3 rounded-lg border border-[#E2E8F0] mb-4 text-base focus:outline-none focus:border-[#1E6FBA] focus:ring-2 focus:ring-[#1E6FBA]/20 transition" />

      <!-- added: structured hidden fields and map preview -->
      <input type="hidden" id="book-lat" />
      <input type="hidden" id="book-lon" />
      <input type="hidden" id="book-city" />
      <input type="hidden" id="book-state" />
      <input type="hidden" id="book-postcode" />
      <input type="hidden" id="book-country" />
      <input type="hidden" id="book-timezone" />

      <div id="book-map" class="mt-4 overflow-hidden border rounded" style="height:200px;">
        <!-- map preview will be injected here -->
      </div>
      <div class="flex flex-col gap-3 mt-4 sm:flex-row">
        <button type="button"
          class="inline-flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-base bg-[#1E6FBA] text-white hover:bg-[#165992] transition"
          onclick="getCurrentLocation()">
          <i class="fas fa-location-arrow"></i>Use My Location
        </button>
        <button type="button"
          class="inline-flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-base bg-white text-[#1E6FBA] border border-[#1E6FBA] hover:bg-[#E8F2FC] transition"
          onclick="copyStoreLocation()">
          <i class="fas fa-store"></i>Use Store Location
        </button>
      </div>
      <p class="mt-6 text-center text-[#718096] text-sm">
        After confirming, we'll open WhatsApp with your booking details. Please send the message to confirm your
        appointment.
      </p>
      <div class="flex flex-col gap-3 mt-6 sm:flex-row">
        <button
          class="inline-flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-base bg-[#1E6FBA] text-white hover:bg-[#165992] transition"
          onclick="sendBookingViaWhatsApp()">
          <i class="fab fa-whatsapp"></i>Confirm & Send via WhatsApp
        </button>
        <button
          class="inline-flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-base bg-white text-[#1E6FBA] border border-[#1E6FBA] hover:bg-[#E8F2FC] transition"
          onclick="closeModal()">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Floating Contact Widget -->
  <div class="fixed z-50 right-6 bottom-6" id="floating-widget" data-aos="fade-up" data-aos-duration="700"
    data-aos-delay="320">
    <div class="flex flex-col gap-3 mb-4 md:hidden" id="widget-options">
      <a href="https://wa.me/447377664964" target="_blank"
        class="flex items-center justify-center w-12 h-12 text-lg transition bg-white rounded-full shadow-md hover:-translate-y-1"
        title="WhatsApp">
        <i class="fab fa-whatsapp" style="color: #25D366;"></i>
      </a>
      <a href="mailto:info@expressgoal.co.uk"
        class="flex items-center justify-center w-12 h-12 text-lg transition bg-white rounded-full shadow-md hover:-translate-y-1"
        title="Email">
        <i class="fas fa-envelope" style="color: #EA4335;"></i>
      </a>
      <a href="tel:+447377664964"
        class="flex items-center justify-center w-12 h-12 text-lg transition bg-white rounded-full shadow-md hover:-translate-y-1"
        title="Call">
        <i class="fas fa-phone-alt" style="color: #1E6FBA;"></i>
      </a>
      <a href="#"
        class="flex items-center justify-center w-12 h-12 text-lg transition bg-white rounded-full shadow-md hover:-translate-y-1"
        onclick="openChatbox(); return false;" title="Chat">
        <i class="fa-solid fa-robot" style="color: #38B6FF;"></i>
      </a>
    </div>
    <button
      class="w-14 h-14 rounded-full bg-[#1E6FBA] text-white flex items-center justify-center text-2xl shadow-xl hover:scale-110 transition"
      id="widget-button">
      <i class="fas fa-comment-dots"></i>
    </button>
  </div>

  <!-- Chatbox -->
  <div
    class="fixed right-6 bottom-28 w-[350px] max-w-[calc(100vw-60px)] rounded-xl shadow-2xl overflow-hidden hidden z-50 bg-white"
    id="chatbox" data-aos="fade-left" data-aos-duration="700" data-aos-delay="360">
    <div class="bg-[#1E6FBA] text-white px-5 py-4 flex justify-between items-center">
      <div class="text-base font-semibold">Express Goal Assistant</div>
      <button
        class="flex items-center justify-center w-8 h-8 text-xl text-white transition bg-transparent border-none rounded-full hover:bg-white/20"
        onclick="closeChatbox()">&times;</button>
    </div>
    <div class="p-5 max-h-[300px] overflow-y-auto text-sm" id="chat-body">
      <div class="flex flex-col mb-4">

      </div>
    </div>
    <div class="flex p-4 border-t border-[#E2E8F0] gap-2">
      <input type="text" id="chat-input" placeholder="Type your message here..."
        class="flex-1 px-4 py-2 rounded-full border border-[#E2E8F0] text-sm focus:outline-none" />
      <button class="px-4 py-2 rounded-full bg-[#1E6FBA] text-white font-medium"
        onclick="sendChatMessage()">Send</button>
    </div>
  </div>

  <!-- Footer -->
  <footer id="contact" class="py-12 text-white bg-gray-900" data-aos="fade-up" data-aos-duration="800"
    data-aos-delay="160">
    <div class="container px-4 mx-auto">
      <div class="grid gap-8 md:grid-cols-4">
        <div data-aos="fade-right" data-aos-duration="700" data-aos-delay="180">
          <h3 class="mb-4 text-2xl font-bold text-gradient">EXPRESS GOAL</h3>
          <p class="text-gray-400">
            Express Goal: Premium home cleaning and integrated home care for a simplified, luxurious life. </p>
          </p>
          <div class="flex mt-6 space-x-4">
            <a href="#" class="transition hover:text-customPurple-500">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
              </svg>
            </a>
            <a href="#" class="transition hover:text-customPurple-500">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z" />
              </svg>
            </a>
            <a href="#" class="transition hover:text-customPurple-500">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zM5.838 12a6.162 6.162 0 1112.324 0 6.162 6.162 0 01-12.324 0zM12 16a4 4 0 110-8 4 4 0 010 8zm4.965-10.405a1.44 1.44 0 112.881.001 1.44 1.44 0 01-2.881-.001z" />
              </svg>
            </a>
          </div>
        </div>

        <div data-aos="fade-up" data-aos-duration="700" data-aos-delay="220">
          <h4 class="mb-4 text-lg font-semibold">Quick Links</h4>
          <ul class="space-y-2 text-gray-400">
            <li>
              <a href="index.html" class="transition hover:text-customPurple-500">Home</a>
            </li>
            <li>
              <a href="about.html" class="transition hover:text-customPurple-500">About Us</a>
            </li>
            <li>
              <a href="services.html" class="transition hover:text-customPurple-500">Services</a>
            </li>
            <li>
              <a href="#gallery" class="transition hover:text-customPurple-500">Gallery</a>
            </li>
          </ul>
        </div>

        <div data-aos="fade-left" data-aos-duration="700" data-aos-delay="260">
          <h4 class="mb-4 text-lg font-semibold">Our Services</h4>
          <ul class="space-y-2 text-gray-400">
            <li>
              <a href="#" class="transition hover:text-customPurple-500">Home Cleaning</a>
            </li>
            <li>
              <a href="#" class="transition hover:text-customPurple-500">Office Cleaning</a>
            </li>
            <li>
              <a href="#" class="transition hover:text-customPurple-500">Deep Cleaning</a>
            </li>
            <li>
              <a href="#" class="transition hover:text-customPurple-500">Moving Cleaning</a>
            </li>
          </ul>
        </div>

        <div data-aos="fade-up" data-aos-duration="700" data-aos-delay="300">
          <h4 class="mb-4 text-lg font-semibold">Contact Info</h4>
          <ul class="space-y-3 text-gray-400">
            <li class="flex items-start">
              <svg class="w-5 h-5 mt-1 mr-2 text-customPurple-500" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd"
                  d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
                  clip-rule="evenodd" />
              </svg>
              Bournemouth, United Kingdom
            </li>
            <li class="flex items-center">
              <svg class="w-5 h-5 mr-2 text-customPurple-500" fill="currentColor" viewBox="0 0 20 20">
                <path
                  d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
              </svg>
              +44 7377 664 964
            </li>
            <li class="flex items-center">
              <svg class="w-5 h-5 mr-2 text-customPurple-500" fill="currentColor" viewBox="0 0 20 20">
                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" />
                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
              </svg>
              info@expressgoal.co.uk
            </li>
          </ul>
        </div>
      </div>

      <div class="pt-8 mt-8 text-center text-gray-400 border-t border-gray-800">
        <p>
          &copy; 2025 Express Goal. All rights reserved. |
          <a href="#" class="transition hover:text-customPurple-500">Privacy Policy</a>
          |
          <a href="#" class="transition hover:text-customPurple-500">Terms of Service</a>
        </p>
      </div>
    </div>
  </footer>
  <script>
    // Configuration
    // ðŸš¨ IMPORTANT: Replace 'YOUR_GOOGLE_MAPS_API_KEY' with your actual key
    const GOOGLE_API_KEY = 'YOUR_GOOGLE_MAPS_API_KEY';
    const WHATSAPP_NUMBER = "447377664964";
    const STORE_LOCATION_TEXT = "Bournemouth, United Kingdom";

    // Modal controls
    function openModal() {
      const modal = document.getElementById('modal');
      modal.classList.remove('hidden');
      modal.classList.add('flex');
    }
    function closeModal() {
      const modal = document.getElementById('modal');
      modal.classList.add('hidden');
      modal.classList.remove('flex');
    }

    // Copy store location into location field
    function copyStoreLocation() {
      document.getElementById('book-location').value = STORE_LOCATION_TEXT;
    }

    // Get current location using browser geolocation (enhanced + IP fallback)
    async function getCurrentLocation() {
      if (!navigator.geolocation) {
        alert("Geolocation is not supported by your browser.");
        return;
      }

      alert("Attempting to get your location and resolve the address...");

      try {
        if (navigator.permissions) {
          const p = await navigator.permissions.query({ name: "geolocation" });
          if (p.state === "denied") {
            console.warn("Geolocation permission denied, using IP fallback");
            await fallbackToIP();
            return;
          }
        }
      } catch (err) {
        console.warn("Permissions API not available", err);
      }

      navigator.geolocation.getCurrentPosition(
        function (position) {
          const lat = Number(position.coords.latitude.toFixed(6));
          const lon = Number(position.coords.longitude.toFixed(6));
          const acc = position.coords.accuracy;
          console.log("Geolocation success:", { lat, lon, accuracy: acc });

          if (acc && acc > 5000) {
            const proceed = confirm(
              "Location returned low accuracy (" + Math.round(acc) + "m). Use this location anyway? (Cancel to try IP-based fallback)"
            );
            if (!proceed) {
              fallbackToIP();
              return;
            }
          }

          reverseGeocodeEnhanced(lat, lon);
        },
        function (error) {
          console.warn("Geolocation error:", error);
          fallbackToIP();
        },
        { enableHighAccuracy: true, timeout: 15000, maximumAge: 0 }
      );
    }

    // Enhanced reverse geocode: fills structured fields, map preview and timezone
    async function reverseGeocodeEnhanced(lat, lon) {
      // helper to set form fields & map
      function setFields(addrObj) {
        const {
          formatted = `Lat: ${lat}, Long: ${lon}`,
          city = "",
          state = "",
          postcode = "",
          country = ""
        } = addrObj;

        document.getElementById("book-location").value = formatted;
        document.getElementById("book-lat").value = lat;
        document.getElementById("book-lon").value = lon;
        document.getElementById("book-city").value = city;
        document.getElementById("book-state").value = state;
        document.getElementById("book-postcode").value = postcode;
        document.getElementById("book-country").value = country;

        // update map preview (Google if key present, else OpenStreetMap)
        const mapWrap = document.getElementById("book-map");
        if (!mapWrap) return;
        if (GOOGLE_API_KEY && GOOGLE_API_KEY !== "YOUR_GOOGLE_MAPS_API_KEY") {
          mapWrap.innerHTML = `<iframe class="w-full h-full" frameborder="0" referrerpolicy="no-referrer-when-downgrade" src="https://www.google.com/maps?q=${encodeURIComponent(
            lat + "," + lon
          )}&z=16&output=embed"></iframe>`;
        } else {
          mapWrap.innerHTML = `<iframe class="w-full h-full" frameborder="0" referrerpolicy="no-referrer-when-downgrade" src="https://www.openstreetmap.org/export/embed.html?bbox=${encodeURIComponent(
            lon - 0.01
          )}%2C${encodeURIComponent(lat - 0.01)}%2C${encodeURIComponent(lon + 0.01)}%2C${encodeURIComponent(
            lat + 0.01
          )}&layer=mapnik&marker=${encodeURIComponent(lat)}%2C${encodeURIComponent(lon)}" ></iframe>`;
        }
      }

      // Try Google Geocoding first if key present
      if (GOOGLE_API_KEY && GOOGLE_API_KEY !== "YOUR_GOOGLE_MAPS_API_KEY") {
        try {
          const url = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${encodeURIComponent(
            lat + "," + lon
          )}&key=${encodeURIComponent(GOOGLE_API_KEY)}`;
          const res = await fetch(url);
          const data = await res.json();
          if (data && data.results && data.results.length > 0) {
            const r = data.results[0];
            const formatted = r.formatted_address || "";
            // parse address components
            const comps = {};
            (r.address_components || []).forEach((c) => {
              (c.types || []).forEach((t) => (comps[t] = c.long_name));
            });
            const city = comps.locality || comps.postal_town || comps.administrative_area_level_2 || "";
            const state = comps.administrative_area_level_1 || "";
            const postcode = comps.postal_code || "";
            const country = comps.country || "";
            setFields({ formatted, city, state, postcode, country });

            // timezone via Google Time Zone API
            try {
              const ts = Math.floor(Date.now() / 1000);
              const tzUrl = `https://maps.googleapis.com/maps/api/timezone/json?location=${lat},${lon}&timestamp=${ts}&key=${encodeURIComponent(
                GOOGLE_API_KEY
              )}`;
              const tzRes = await fetch(tzUrl);
              const tzData = await tzRes.json();
              if (tzData && tzData.timeZoneId) {
                document.getElementById("book-timezone").value = tzData.timeZoneId;
              }
            } catch (tzErr) {
              console.warn("Timezone fetch (Google) failed:", tzErr);
            }

            alert("Location detected: " + formatted);
            return;
          }
        } catch (err) {
          console.warn("Google geocoding failed, falling back to Nominatim:", err);
        }
      }

      // Nominatim fallback (no API key)
      try {
        const url = `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${encodeURIComponent(
          lat
        )}&lon=${encodeURIComponent(lon)}&addressdetails=1`;
        const res = await fetch(url, { headers: { Accept: "application/json" } });
        if (!res.ok) throw new Error("Nominatim response not OK");
        const data = await res.json();

        let formatted = `Lat: ${lat}, Long: ${lon}`;
        let city = "";
        let state = "";
        let postcode = "";
        let country = "";

        if (data) {
          if (data.display_name) formatted = data.display_name;
          if (data.address) {
            city = data.address.city || data.address.town || data.address.village || data.address.county || "";
            state = data.address.state || data.address.region || "";
            postcode = data.address.postcode || "";
            country = data.address.country || "";
          }
        }

        setFields({ formatted, city, state, postcode, country });

        // Try timeapi.io as timezone fallback
        try {
          const timeRes = await fetch(
            `https://www.timeapi.io/api/Time/current/coordinate?latitude=${encodeURIComponent(
              lat
            )}&longitude=${encodeURIComponent(lon)}`
          );
          if (timeRes.ok) {
            const timeData = await timeRes.json();
            if (timeData && timeData.timeZone) {
              document.getElementById("book-timezone").value = timeData.timeZone;
            }
          }
        } catch (tzErr) {
          console.warn("Timezone fetch (timeapi.io) failed:", tzErr);
        }

        alert("Location detected: " + formatted);
        return;
      } catch (err) {
        console.error("Nominatim Error:", err);
        const coordText = `Lat: ${lat}, Long: ${lon}`;
        setFields({ formatted: coordText });
        alert("Location detected but address lookup failed. Using coordinates: " + coordText);
      }
    }

    // Contact form handler
    document.getElementById('contactForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const name = document.getElementById('cf-name').value.trim();
      const email = document.getElementById('cf-email').value.trim();
      const message = document.getElementById('cf-message').value.trim();
      if (!name || !email || !message) {
        alert("Please fill in all fields.");
        return;
      }
      alert(`Thank you ${name}! Your message has been received. We'll respond to ${email} soon.`);
      this.reset();
    });

    // Send booking details via WhatsApp

    function sendBookingViaWhatsApp() {
      const name = document.getElementById('book-name').value.trim();
      const phone = document.getElementById('book-phone').value.trim();
      const email = document.getElementById('book-email').value.trim();
      const date = document.getElementById('book-date').value;
      const service = document.getElementById('book-service').value;
      const location = document.getElementById('book-location').value.trim();
      if (!name || !phone || !email || !date || !service || !location) {
        alert("Please fill in all booking fields before proceeding.");
        return;
      }
      const messageLines = [
        "Hello Express Goal cleaning services! I would like to book an appointment:",
        "",
        "Name: " + name,
        "Phone: " + phone,
        "Email: " + email,
        "Date: " + date,
        "Service: " + service,
        "Location: " + location,
        "",
        "Please confirm availability. Thank you!"
      ];
      const message = encodeURIComponent(messageLines.join("\n"));
      const waLink = `https://wa.me/${WHATSAPP_NUMBER}?text=${message}`;
      closeModal();
      window.open(waLink, "_blank");
    }

    // Floating widget toggle
    document.getElementById('widget-button').addEventListener('click', function () {
      const options = document.getElementById('widget-options');
      options.classList.toggle('hidden');
      options.classList.toggle('flex');
    });

    // Chatbox functions
    let isFirstGreetingSent = false;
    function openChatbox() {
      document.getElementById('chatbox').classList.remove('hidden');
      document.getElementById('widget-options').classList.add('hidden');
      document.getElementById('chat-input').focus();
      if (!isFirstGreetingSent) {
        setTimeout(() => {
          appendMessage('bot', "Welcome! I'm your virtual assistant for Express Goal. Please ask me about **Prices**, **Booking**, or just say **Hello**!");
          isFirstGreetingSent = true;
        }, 500); // Small delay to look natural
      }
    }

    function closeChatbox() {
      document.getElementById('chatbox').classList.add('hidden');
    }

    // Append message to chat
    function appendMessage(who, text) {
      const body = document.getElementById('chat-body');
      const messageDiv = document.createElement('div');
      messageDiv.className = 'mb-4 flex flex-col' + (who === 'user' ? ' items-end' : '');
      const bubble = document.createElement('div');
      bubble.className = 'px-4 py-3 max-w-[80%] ' +
        (who === 'user'
          ? 'bg-[#1E6FBA] text-white rounded-2xl rounded-tr-md'
          : 'bg-[#E8F2FC] text-[#2D3748] rounded-2xl rounded-tl-md');
      bubble.textContent = text;
      messageDiv.appendChild(bubble);
      body.appendChild(messageDiv);
      body.scrollTop = body.scrollHeight;
    }

    // Function to display the 'Typing...' indicator
    function showTypingIndicator() {
      const body = document.getElementById('chat-body');
      if (!body) return;
      // avoid duplicate indicators
      if (document.getElementById('typing-indicator')) return;

      const indicatorDiv = document.createElement('div');
      indicatorDiv.id = 'typing-indicator';
      indicatorDiv.className = 'mb-4 flex flex-col';

      const bubble = document.createElement('div');
      bubble.className = 'px-4 py-3 max-w-[80%] bg-[#E8F2FC] text-[#2D3748] rounded-2xl rounded-tl-md italic';
      bubble.textContent = 'Typing...';

      indicatorDiv.appendChild(bubble);
      body.appendChild(indicatorDiv);
      body.scrollTop = body.scrollHeight;
    }

    // Send chat message (UPDATED FUNCTION)
    function sendChatMessage() {
      const input = document.getElementById('chat-input');
      const text = input.value.trim();
      if (!text) return;

      // 1. Append user message
      appendMessage('user', text);
      input.value = '';

      // 2. IMMEDIATELY show the typing indicator
      showTypingIndicator();

      // Simulate bot response
      setTimeout(() => {
        // 3. REMOVE the typing indicator before the actual response
        const indicator = document.getElementById('typing-indicator');
        if (indicator) {
          indicator.remove();
        }

        // --- EXISTING BOT RESPONSE LOGIC (extended with service-specific checks) ---
        const lowerText = text.toLowerCase();
        let response;

        // Help/Menu
        if (lowerText === 'help' || lowerText === 'menu' || lowerText === 'options' || lowerText === 'what can you do') {
          response = "I can help with: Prices, Booking, Location, or tell you about our Services (type 'services').";
        }
        // Prices/Cost (now returns services instead of prices)
        else if (lowerText.includes('price') || lowerText.includes('cost') || lowerText.includes('pricing')) {
          response = "We don't show prices here. Here are our services: Office Cleaning, Home Cleaning, Glass Cleaning, Airbnb Cleaning, Mould Removal, Deep End-of-Tenancy Clean, Standard Wash, Dry Cleaning, Premium Care. Which one would you like to know more about or book?";
        }
        // Booking/Appointment
        else if (lowerText.includes('book') || lowerText.includes('appointment')) {
          response = "You can book using the 'Book Appointment' button or the booking modal. Would you like me to open it for you?" +
            " (Note: Booking is completed via WhatsApp or Email)";
        }
        // Request for list of services
        else if (lowerText.includes('services') || lowerText === 'what do you offer' || lowerText.includes('what services') || lowerText.includes('render')) {
          response = "We offer: Office Cleaning, Home Cleaning, Glass Cleaning, Airbnb Cleaning, Mould Removal, and Deep End-of-Tenancy Cleans. Which one would you like to know more about or book?";
        }
        // Office Cleaning
        else if (lowerText.includes('office') || lowerText.includes('office cleaning')) {
          response = "Office Cleaning â€” desks, floors, windows and electronics. Ideal for maintaining a productive workspace. Would you like to book this service?";
        }
        // Home Cleaning
        else if (lowerText.includes('home') || lowerText.includes('home cleaning')) {
          response = "Home Cleaning â€” full home deep cleans with eco-friendly products. Shall I open the booking form for Home Cleaning?";
        }
        // Glass Cleaning
        else if (lowerText.includes('glass') || lowerText.includes('window') || lowerText.includes('glass cleaning')) {
          response = "Glass Cleaning â€” streak-free window and glass cleaning for homes and offices. Would you like to schedule this?";
        }
        // Airbnb Cleaning
        else if (lowerText.includes('airbnb') || lowerText.includes('host') || lowerText.includes('vacation')) {
          response = "Airbnb Cleaning â€” fast turnarounds and guest-ready cleans to keep your reviews high. Need to book for an upcoming check-in?";
        }
        // Mould Removal
        else if (lowerText.includes('mould') || lowerText.includes('mold') || lowerText.includes('mould removal')) {
          response = "Mould Removal â€” safe, effective removal and prevention. We can assess and provide a quote; would you like to book an inspection?";
        }
        // End-of-Tenancy / Tenancy / Deep Clean
        else if (lowerText.includes('tenancy') || lowerText.includes('end of tenancy') || lowerText.includes('end-of-tenancy') || lowerText.includes('deep') || lowerText.includes('deep clean')) {
          response = "End-of-Tenancy / Deep Clean â€” comprehensive cleaning to help secure your deposit back. Want to pick a date?";
        }
        // Location/Hours
        else if (lowerText.includes('where are you') || lowerText.includes('location') || lowerText.includes('open') || lowerText.includes('address')) {
          response = "You can find us at 123 Clean St, Bournemouth, BH1 1AA. " +
            "For directions, visit: https://goo.gl/maps/example. " +
            "We work from Monâ€“Sat, 9:00 AM â€“ 6:00 PM.";
        }
        // Hours
        else if (lowerText.includes('hours') || lowerText.includes('open') || lowerText.includes('time') || lowerText.includes('work')) {
          response = "we work from Monâ€“Sat, 9:00 AM â€“ 6:00 PM.";
        }
        // Greetings
        else if (lowerText.includes('hello') || lowerText.includes('hi')) {
          response = "Hello! How can I assist you with your cleaning or booking today?";
        }
        // Fallback
        else {
          response = "Sorry, I didn't catch that. Try keywords like: 'Services', 'Book', 'Prices', 'Location' or type 'Help'.";
        }

        appendMessage('bot', response);
      }, 600);
    }

    // Allow Enter key to send chat messages
    document.getElementById('chat-input').addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        sendChatMessage();
      }
    });

    // Close modal if clicked outside
    window.addEventListener('click', function (e) {
      const modal = document.getElementById('modal');
      if (e.target === modal) {
        closeModal();
      }
    });
  </script>
  <!-- <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script>
    AOS.init({
      duration: 700,
      easing: 'ease-in-out',
      once: false
    });
  </script> -->
  <script src="./src/script.js"></script>
</body>

</html>